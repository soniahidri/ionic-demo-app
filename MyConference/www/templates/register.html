<!--
This file is part of MyConference.

MyConference is free software: you can redistribute it and/or modify
it under the terms of the GNU Affero General Public License version 3
as published by the Free Software Foundation.

This program is distributed in the hope that it will be useful,
but WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
GNU Affero General Public License for more details.

You should find a copy of the GNU Affero General Public License in the
root directory along with this program.
If not, see http://www.gnu.org/licenses/agpl-3.0.html.
-->

<ion-view view-title="Sign Up">
      <ion-content>
        <form name="userForm" ng-submit="createAccount(user)" novalidate>
        <ion-list>

        <label class="item item-input">
            <span class="input-label">Email</span>
            <input type="email" name="email" class="form-control" ng-model="user.email" ng-pattern="/[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?/" required>
            <p ng-show="userForm.email.$invalid && !userForm.email.$pristine" class="help-block"> WRONG! Email form: name@domain.com </p>
          </label>

          <label class="item item-input">
            <span class="input-label fixed">Name</span>
            <input type="text" name="first_name" ng-model="user.name" required>
          </label>

          <label class="item item-input">
            <span class="input-label">Given Name</span>
            <input type="text" name="given_name" ng-model="user.gName" required>
          </label>


          <label class="item item-input">

            <span class="input-label">Password</span>
            <input type="password" name="pw1" id="pw1" ng-model="pw1" ng-minlength="6" ng-maxlength="20" ng-pattern="/^(?=.*[!@#$%^&*(0-9]{2,})(?=.*[a-zA-Z]{2,})/" required>
            <p ng-show="userForm.pw1.$error.minlength && userForm.pw1.$error.pattern" class="help-block">need at least 6 characters </p>
            <p ng-show="userForm.pw1.$error.minlength && !userForm.pw1.$error.pattern" class="help-block">need at least 6 characters </p>
            <p ng-show="!userForm.pw1.$error.minlength && userForm.pw1.$error.pattern" class="help-block">need both characters & number</p>
            <p ng-show="userForm.pw1.$error.maxlength" class="help-block">shorter than 20 characters</p>
          </label>

          <label class="item item-input">
            <span class="input-label">Re-Enter Password</span>
            <input type="password" name="pw2" id="pw2" ng-model="user.pass" validate-match="pw1" required>
            <p ng-show="userForm.user.pass.$error.match && userForm.pw1.$dirty" class="help-block">Passwords do not match</p>
          </label>


        </ion-list>

        <div class="padding">
          <button type="submit" class="button button-block button-positive" ng-disabled="userForm.$invalid">
            <span ng-show="!loading">Sign Up</span>
            <i ng-show="loading" class="ion-loading-b"></i>
          </button>
        </div>
        </form>

      </ion-content>

    </ion-view>
